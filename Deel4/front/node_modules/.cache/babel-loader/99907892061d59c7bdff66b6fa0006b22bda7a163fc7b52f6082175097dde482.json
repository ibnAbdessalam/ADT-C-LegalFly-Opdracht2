{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"section\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = [\"disabled\"];\nconst _hoisted_6 = {\n  class: \"section\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"response-box\"\n};\nconst _hoisted_9 = {\n  class: \"requests-list\"\n};\nconst _hoisted_10 = {\n  class: \"request-header\"\n};\nconst _hoisted_11 = {\n  class: \"request-title\"\n};\nconst _hoisted_12 = {\n  key: 0\n};\nconst _hoisted_13 = {\n  class: \"request-actions\"\n};\nconst _hoisted_14 = [\"onUpdate:modelValue\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Create Request Section \"), _createElementVNode(\"div\", _hoisted_1, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", null, \"‚ûï Cr√©er une Demande\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"Titre:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    name: \"titel\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newRequest.title = $event),\n    placeholder: \"Titre de la demande\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newRequest.title]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", null, \"Description:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    name: \"beschrijving\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newRequest.description = $event),\n    placeholder: \"Description d√©taill√©e...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newRequest.description]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", null, \"Email client:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    name: \"emailKlant\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newRequest.clientEmail = $event),\n    type: \"email\",\n    placeholder: \"client@example.com\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newRequest.clientEmail]])]), _createElementVNode(\"button\", {\n    name: \"createRequest\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.createRequest && $options.createRequest(...args)),\n    disabled: $data.loading\n  }, _toDisplayString($data.loading ? 'Cr√©ation...' : 'Cr√©er'), 9 /* TEXT, PROPS */, _hoisted_5)]), _createCommentVNode(\" Requests List Section \"), _createElementVNode(\"div\", _hoisted_6, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", null, \"üìã Liste des Demandes\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.loadRequests && $options.loadRequests(...args)),\n    disabled: $data.loading,\n    style: {\n      \"margin-bottom\": \"15px\"\n    }\n  }, _toDisplayString($data.loading ? 'Chargement...' : 'üîÑ Actualiser'), 9 /* TEXT, PROPS */, _hoisted_7), $data.requests.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" Aucune demande trouv√©e. \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.requests, request => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: request.id,\n      class: \"request-item\"\n    }, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", _hoisted_11, _toDisplayString(request.title), 1 /* TEXT */), _createElementVNode(\"span\", {\n      class: _normalizeClass([\"request-status\", 'status-' + request.status])\n    }, _toDisplayString(request.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"p\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Description:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(request.description), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Email:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(request.clientEmail), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Cr√©√© le:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($options.formatDate(request.createdAt)), 1 /* TEXT */)]), request.updatedAt ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Mis √† jour le:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($options.formatDate(request.updatedAt)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => request.newStatus = $event,\n      class: \"btn-small\"\n    }, [...(_cache[13] || (_cache[13] = [_createElementVNode(\"option\", {\n      value: \"PENDING\"\n    }, \"PENDING\", -1 /* CACHED */), _createElementVNode(\"option\", {\n      value: \"IN_PROGRESS\"\n    }, \"IN_PROGRESS\", -1 /* CACHED */), _createElementVNode(\"option\", {\n      value: \"COMPLETED\"\n    }, \"COMPLETED\", -1 /* CACHED */), _createElementVNode(\"option\", {\n      value: \"CANCELLED\"\n    }, \"CANCELLED\", -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_14), [[_vModelSelect, request.newStatus]]), _createElementVNode(\"button\", {\n      onClick: $event => $options.updateRequestStatus(request),\n      class: \"btn-small btn-warning\"\n    }, \" Changer Statut \", 8 /* PROPS */, _hoisted_15), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteRequest(request.id),\n      class: \"btn-small btn-danger\"\n    }, \" üóëÔ∏è Supprimer \", 8 /* PROPS */, _hoisted_16)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","name","$data","newRequest","title","$event","placeholder","_hoisted_3","description","_hoisted_4","clientEmail","type","onClick","_cache","args","$options","createRequest","disabled","loading","_hoisted_5","_hoisted_6","loadRequests","style","_hoisted_7","requests","length","_hoisted_8","_hoisted_9","_Fragment","_renderList","request","key","id","_hoisted_10","_hoisted_11","_toDisplayString","_normalizeClass","status","formatDate","createdAt","updatedAt","_hoisted_12","_hoisted_13","newStatus","value","updateRequestStatus","_hoisted_15","deleteRequest","_hoisted_16"],"sources":["C:\\Github2526\\ADT-C-LegalFly-Opdracht2\\Deel 3\\front\\src\\components\\RequestsService.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Create Request Section -->\r\n    <div class=\"section\">\r\n      <h2>‚ûï Cr√©er une Demande</h2>\r\n      <div class=\"form-group\">\r\n        <label>Titre:</label>\r\n        <input name=\"titel\" v-model=\"newRequest.title\" placeholder=\"Titre de la demande\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label>Description:</label>\r\n        <textarea name=\"beschrijving\" v-model=\"newRequest.description\" placeholder=\"Description d√©taill√©e...\"></textarea>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label>Email client:</label>\r\n        <input name=\"emailKlant\" v-model=\"newRequest.clientEmail\" type=\"email\" placeholder=\"client@example.com\" />\r\n      </div>\r\n      <button name=\"createRequest\" @click=\"createRequest\" :disabled=\"loading\">\r\n        {{ loading ? 'Cr√©ation...' : 'Cr√©er' }}\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Requests List Section -->\r\n    <div class=\"section\">\r\n      <h2>üìã Liste des Demandes</h2>\r\n      <button @click=\"loadRequests\" :disabled=\"loading\" style=\"margin-bottom: 15px;\">\r\n        {{ loading ? 'Chargement...' : 'üîÑ Actualiser' }}\r\n      </button>\r\n\r\n      <div v-if=\"requests.length === 0\" class=\"response-box\">\r\n        Aucune demande trouv√©e.\r\n      </div>\r\n\r\n      <div class=\"requests-list\">\r\n        <div v-for=\"request in requests\" :key=\"request.id\" class=\"request-item\">\r\n          <div class=\"request-header\">\r\n            <span class=\"request-title\">{{ request.title }}</span>\r\n            <span class=\"request-status\" :class=\"'status-' + request.status\">\r\n              {{ request.status }}\r\n            </span>\r\n          </div>\r\n          <p><strong>Description:</strong> {{ request.description }}</p>\r\n          <p><strong>Email:</strong> {{ request.clientEmail }}</p>\r\n          <p><strong>Cr√©√© le:</strong> {{ formatDate(request.createdAt) }}</p>\r\n          <p v-if=\"request.updatedAt\"><strong>Mis √† jour le:</strong> {{ formatDate(request.updatedAt) }}</p>\r\n\r\n          <div class=\"request-actions\">\r\n            <select v-model=\"request.newStatus\" class=\"btn-small\">\r\n              <option value=\"PENDING\">PENDING</option>\r\n              <option value=\"IN_PROGRESS\">IN_PROGRESS</option>\r\n              <option value=\"COMPLETED\">COMPLETED</option>\r\n              <option value=\"CANCELLED\">CANCELLED</option>\r\n            </select>\r\n            <button @click=\"updateRequestStatus(request)\" class=\"btn-small btn-warning\">\r\n              Changer Statut\r\n            </button>\r\n            <button @click=\"deleteRequest(request.id)\" class=\"btn-small btn-danger\">\r\n              üóëÔ∏è Supprimer\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAllRequestsApi,\r\n  createRequestApi,\r\n  updateRequestApi,\r\n  deleteRequestApi\r\n} from '../services/requestsService'\r\n\r\nexport default {\r\n  name: 'RequestsService',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      newRequest: {\r\n        title: '',\r\n        description: '',\r\n        clientEmail: ''\r\n      },\r\n      requests: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadRequests()\r\n  },\r\n  methods: {\r\n    async createRequest() {\r\n      if (!this.newRequest.title || !this.newRequest.clientEmail) {\r\n        alert('Veuillez remplir au moins le titre et l\\'email')\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n\r\n      try {\r\n        await createRequestApi(this.newRequest)\r\n        this.newRequest = { title: '', description: '', clientEmail: '' }\r\n        alert('Demande cr√©√©e avec succ√®s!')\r\n        await this.loadRequests()\r\n      } catch (error) {\r\n        alert('Erreur: ' + (error.response?.data || error.message))\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async loadRequests() {\r\n      this.loading = true\r\n\r\n      try {\r\n        const data = await getAllRequestsApi()\r\n        this.requests = data.map(req => ({\r\n          ...req,\r\n          newStatus: req.status\r\n        }))\r\n      } catch (error) {\r\n        alert('Erreur lors du chargement: ' + error.message)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async updateRequestStatus(request) {\r\n      this.loading = true\r\n\r\n      try {\r\n        const updatedRequest = {\r\n          ...request,\r\n          status: request.newStatus\r\n        }\r\n        await updateRequestApi(request.id, updatedRequest)\r\n        alert('Statut mis √† jour!')\r\n        await this.loadRequests()\r\n      } catch (error) {\r\n        alert('Erreur: ' + (error.response?.data || error.message))\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async deleteRequest(id) {\r\n      if (!confirm('√ätes-vous s√ªr de vouloir supprimer cette demande?')) {\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n\r\n      try {\r\n        await deleteRequestApi(id)\r\n        alert('Demande supprim√©e!')\r\n        await this.loadRequests()\r\n      } catch (error) {\r\n        alert('Erreur: ' + (error.response?.data || error.message))\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    formatDate(dateString) {\r\n      if (!dateString) return ''\r\n      return new Date(dateString).toLocaleString('fr-FR')\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}